# Fastq kalite kontrol

ilk olarak fastq dosyalarının kalite kontrolünü işleyeceğiz

Öncelikle TRUBA sistemimize girelim.

Kendi oluşturduğumuz klasörlere girelim. Siz kendi isminizi yazınız.

```bash
cd emrah
```

Daha sonra ders klasörünü kopyalayalım:

```bash
cp -r /truba/home/egitim/Dersler/00-Fastq-Kalite_Kontrol .
```

Ve klasör içerisine girelim:

```bash
cd 00-Fastq-Kalite-Kontrol
```

İçeriğe bakalım:

```bash
ls -l
```

Data klasörü içeriğine bakalım:

```bash
ls -l data
``` 

istersek dosyayı inceleyebiliriz:

```bash
less data/sample1.fastq.gz
```

Şimdi bu incelediğimiz dosyanın kalite kontrol işlemini gerçekleştireceğiz. Bunun için `fastqc` programını kullancağız.

Bunun için TRUBA sistemine bir iş betiği göndermemiz gerekli. Bu iş betiği dosyasını inceleyelim:

```bash
cat fastqc_before_trimming.sh
```

Bu iş betiği dosyası, istediğimiz komutları TRUBA sistemine gönderip çalıştıracak.

Bunun için Barbun isimli bilgisayardan, 4 tane işlemci rezerve ediyoruz ve egitim kullanıcı ismiyle işimizi slurm sistemine gönderityoruz.

İş dosyasını çalıştıralım:

```bash
sbatch fastqc_before_trimming.sh
```

Gönderdiğimiz işi şu şekilde kontrol edelim:

```bash
squeue -u egitim
```

Bunu ara ara takip edelim. İşimiz bittiğinide artık bu ekranda bir bilgi olmayacak.

İşimiz bittiğinde sonra, çalışma klasörümüzde `slurm` ile başlayan bir dosya oluşacak. Bu dosyayı, `less` programı ile kontrol edelim. Bu doya bizim komutlarımızn çıktılarını gösterecek.

Eğer başarılı olduysak `results/fastqc_before_trimming` klasörü içinde bir kaç dosya oluşacak. Onlara bakalım:

```bash
ls -lh results/fastqc_before_trimming
```

